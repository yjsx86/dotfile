# ---------------------------------------------------
# 1. 重映射前缀键 (Prefix)
# ---------------------------------------------------
# 将默认的 Ctrl+b 修改为 Ctrl+a (更易按)
# set -g prefix C-a
# unbind C-b
# bind C-a send-prefix

# ---------------------------------------------------
# 2. 基础体验优化
# ---------------------------------------------------
# 开启鼠标支持 (点选窗口、调整大小、鼠标滚轮翻页)
# set -g mouse on

# 这种设置可以让滚轮直接在 Vim/Less 里滚动，而不是进入 tmux 的复制模式
# (具体兼容性视终端模拟器而定)

# 窗口和面板编号从 1 开始，而不是 0 (0 离 1 太远了)
set -g base-index 1
setw -g pane-base-index 1
set -g renumber-windows on   # 关闭窗口后自动重新编号

# ---------------------------------------------------
# 3. 直观的分屏快捷键
# ---------------------------------------------------
# 使用 | 垂直分屏 (左右)
# 使用 - 水平分屏 (上下)
# -c "#{pane_current_path}" 表示新面板默认进入当前面板的路径
bind | split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"
unbind '"'
unbind %

# ---------------------------------------------------
# 4. Vim 风格的面板切换
# ---------------------------------------------------
# 绑定 h,j,k,l 为切换面板的快捷键
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# ---------------------------------------------------
# 5. 快速重载配置
# ---------------------------------------------------
# 按 <Prefix> + r 快速重载配置文件，无需重启 tmux
bind r source-file ~/.tmux.conf \; display "Config reloaded!"

# ---------------------------------------------------
# 6. 颜色显示修正
# ---------------------------------------------------
# 确保 tmux 支持 256 色
set -g default-terminal "screen-256color"

# ---------------------------------------------------
# 7. 复制模式设置为 Vi 风格
# ---------------------------------------------------
# 设置复制模式为 vi 风格
setw -g mode-keys vi

# 设置 v 键为选择开始，y 键为复制并退出
bind-key -T copy-mode-vi v send -X begin-selection
bind-key -T copy-mode-vi y send -X copy-selection-and-cancel